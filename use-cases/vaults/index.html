<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<meta name="author" content="Steven Roose">
<meta name="description" content="Documentation about Bitcoin Covenant proposals.">
<meta name="keywords" content="bitcoin, covenants, script, blockchain, satoshi, opcode">
<meta property="og:author" content="https://roose.io">
<meta property="og:description" content="Documentation about Bitcoin Covenant proposals.">
<meta property="og:title" content="Covenants.info">
<meta property="og:type" content="article">
<meta property="og:url" content="https://covenants.info/">
<meta property="og:image" content="https://covenants.info/bitcoin.png">
<meta name="twitter:author" content="@stevenroose3">
<meta name="twitter:description" content="Documentation about Bitcoin Covenant proposals.">
<meta name="twitter:image" content="https://covenants.info/bitcoin.png">
<meta name="twitter:card" content="summary_large_image">


  <link rel="preload" as="font" href="https://covenants.info/fonts/vendor/jost/jost-v4-latin-regular.woff2" type="font/woff2" crossorigin>
  <link rel="preload" as="font" href="https://covenants.info/fonts/vendor/jost/jost-v4-latin-700.woff2"  type="font/woff2" crossorigin>


<link rel="stylesheet" href="https://covenants.info/main.css">



  
  
    
  

  
  
    
    
  
  
  
    
  

  
    
  
  
    
  

  
    
  
  
  


  <meta name="robots" content="index, follow">
  <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">


	


	

<title>Vaults - Bitcoin Covenants Wiki</title>
<meta name="description" content="Bitcoin cold-storage vaults as a Bitcoin Covenant use case.">
<link rel="canonical" href="https://covenants.info/use-cases/vaults/">










<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BreadcrumbList",
    
      
      
        
        
        
        
        
        
        
        
        
        
        
          {
            "@type": "ListItem",
            "position":  1 ,
            "name": "Home",
            "item": "https://covenants.info/"
          },
          
          
          {
            "@type": "ListItem",
            "position":  2 ,
            "name": "Use Cases",
            "item": "https://covenants.info/use-cases/"
          },
        
      
        
        
        
        
        
        
        
        
          
          
          {
            "@type": "ListItem",
            "position":  3 ,
            "name": "Vaults",
            "item": "https://covenants.info/use-cases/vaults/"
          },
        
      
    
  }
</script>





<script defer data-domain="covenants.info" src="https://plausible.io/js/script.js"></script>


  <meta name="theme-color" content="#fff">
  <link rel="apple-touch-icon" sizes="180x180" href="https://covenants.info/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="https://covenants.info/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="https://covenants.info/favicon-16x16.png">
  
    <link rel="manifest" href="https://covenants.info/site.webmanifest" crossorigin>
  


  


</head>

  

<body class="docs single">
  
  
  
  
<div class="header-bar fixed-top"></div>
<header class="navbar fixed-top navbar-expand-md navbar-light">
	<div class="container">
		<input class="menu-btn order-0" type="checkbox" id="menu-btn">
		<label class="menu-icon d-md-none" for="menu-btn"><span class="navicon"></span></label>
		<a class="navbar-brand order-1 order-md-0 me-auto" href="https://covenants.info">Bitcoin Covenants Wiki</a>
		<button id="mode" class="btn btn-link order-2 order-md-4" type="button" aria-label="Toggle mode">
			<span class="toggle-dark"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg></span>
			<span class="toggle-light"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></span>
		</button>
		<ul class="navbar-nav fork-me order-3 order-md-5">
			
				
					<li class="nav-item">
						<a class="nav-link" href="https://github.com/stevenroose/covenants.info"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg><span class="ms-2 visually-hidden">GitHub</span></a>
					</li>
				
			
		</ul>
		<div class="collapse navbar-collapse order-4 order-md-1">
			<ul class="navbar-nav main-nav me-auto order-5 order-md-2">
				
					
				
				
				
					
						<li class="nav-item">
							<a class="nav-link" href="https://covenants.info/"></a>
						</li>
					
				
			</ul>
			<div class="break order-6 d-md-none"></div>
			
				<form class="navbar-form flex-grow-1 order-7 order-md-3">
					<input id="userinput" class="form-control is-search" type="search" placeholder="Search docs..."
						aria-label="Search docs..." autocomplete="off">
					<div id="suggestions" class="shadow bg-white rounded"></div>
				</form>
			
		</div>
	</div>
</header>



  
<div class="wrap container" role="document">
  <div class="content">
    <div class="row flex-xl-nowrap">
	  
<div class="col-lg-5 col-xl-4 docs-sidebar">
	<nav class="docs-links" aria-label="Main navigation">
			
			
			
			
					
					
					
							<h3>Overview</h3>
							<ul class="list-unstyled">
							                           
									<li><a class="docs-link" href="https://covenants.info/overview/introduction/">Introduction</a></li>
							                           
									<li><a class="docs-link" href="https://covenants.info/overview/summary/">Summary Table</a></li>
							
					</ul>
					
					
					
					
							<h3>Proposals</h3>
							<ul class="list-unstyled">
							                           
									<li><a class="docs-link" href="https://covenants.info/proposals/apo/">ANYPREVOUT</a></li>
							                           
									<li><a class="docs-link" href="https://covenants.info/proposals/ctv/">CTV</a></li>
							                           
									<li><a class="docs-link" href="https://covenants.info/proposals/op-vault/">OP_VAULT</a></li>
							                           
									<li><a class="docs-link" href="https://covenants.info/proposals/tluv/">TLUV</a></li>
							                           
									<li><a class="docs-link" href="https://covenants.info/proposals/txhash/">TXHASH</a></li>
							                           
									<li><a class="docs-link" href="https://covenants.info/proposals/direct-introspection/">Direct Introspection</a></li>
							                           
									<li><a class="docs-link" href="https://covenants.info/proposals/matt/">CCV &amp; MATT</a></li>
							                           
									<li><a class="docs-link" href="https://covenants.info/proposals/others/">others</a></li>
							
					</ul>
					
					
					
					
							<h3>Use Cases</h3>
							<ul class="list-unstyled">
							                           
									<li><a class="docs-link" href="https://covenants.info/use-cases/tx-templating/">Transaction Templating</a></li>
							                           
									<li><a class="docs-link" href="https://covenants.info/use-cases/eltoo/">Eltoo &#x2F; LN-Symmetry</a></li>
							                           
									<li><a class="docs-link active" href="https://covenants.info/use-cases/vaults/">Vaults</a></li>
							                           
									<li><a class="docs-link" href="https://covenants.info/use-cases/payment-pools/">Payment Pools</a></li>
							                           
									<li><a class="docs-link" href="https://covenants.info/use-cases/ark/">Ark</a></li>
							                           
									<li><a class="docs-link" href="https://covenants.info/use-cases/dlcs/">DLCs</a></li>
							                           
									<li><a class="docs-link" href="https://covenants.info/use-cases/statechains/">Statechains</a></li>
							                           
									<li><a class="docs-link" href="https://covenants.info/use-cases/spacechains/">Spacechains</a></li>
							                           
									<li><a class="docs-link" href="https://covenants.info/use-cases/congestion-control/">Congestion Control</a></li>
							
					</ul>
					
					
					
					
							<h3>Extra</h3>
							<ul class="list-unstyled">
							                           
									<li><a class="docs-link" href="https://covenants.info/extra/additional-reading/">Additional Reading</a></li>
							                           
									<li><a class="docs-link" href="https://covenants.info/extra/cat/">OP_CAT</a></li>
							                           
									<li><a class="docs-link" href="https://covenants.info/extra/gsr/">The Great Script Restoration</a></li>
							                           
									<li><a class="docs-link" href="https://covenants.info/extra/bitvm/">BitVM</a></li>
							
					</ul>
					
					
			
	</nav>
</div>

	  
  
  <nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation">
  	<div class="page-links">
  			<h3>On this page</h3>
  			<nav id="TableOfContents">
  					<ul>
  							
  							<li><a href="https://covenants.info/use-cases/vaults/#links">Links</a></li>
  							
  							
  							<li><a href="https://covenants.info/use-cases/vaults/#introduction">Introduction</a></li>
  							
  							
  							<li><a href="https://covenants.info/use-cases/vaults/#requirements">Requirements</a></li>
  							
  							
  							<li><a href="https://covenants.info/use-cases/vaults/#op-vault">OP_VAULT</a></li>
  							
  							
  					</ul>
  			</nav>
  	</div>
  </nav>
  

      <main class="docs-content col-lg-11 col-xl-9">
        <h1>Vaults</h1>
        
        <h5 id="links">Links</h5>
<ul>
<li><a href="https://bitcoinops.org/en/topics/vaults/">Bitcoin Optech</a></li>
</ul>
<h2 id="introduction">Introduction</h2>
<p>Vault are a type of covenant that require two separate transactions to appear in two different
blocks in order for a user to spend money from their wallet. The first transaction signals that
someone is attempting to spend the money and gives the user a chance to block the second transaction
that completes the spend.</p>
<p>A vault protocol specifies a minimum amount of time or number of blocks that must pass between the
two transactions, giving the user that amount of time to notice if someone stole their private key
and is attempting to steal their money. If the user detects the theft attempt, most vault designs
also allow the user to either send the money to a safe address that uses a more secure script or to
permanently destroy the money to prevent the thief from profiting from their attack.</p>
<p>Some vault designs rely on covenants that require consensus changes to Bitcoin. Other vault designs
use existing protocol features plus techniques such as signing transactions long in advance of
needing them and then destroying the means to sign alternative transactions (either by securely
deleting the signing key or by using multisig to ensure multiple independent keys would need to be
compromised).</p>
<h2 id="requirements">Requirements</h2>
<p>Vaults generally need two things:</p>
<ul>
<li>a way to enforce certain properties on the input and output values of a transaction</li>
<li>a way to enforce a delay period after which a certain script can be activated.</li>
</ul>
<p>These two requirements are surprisingly non-trivial to enforce and hence vaults have been an
extensive topic of discussion within the covenants debate.</p>
<h2 id="op-vault">OP_VAULT</h2>
<p>Vaults are such a popular use case that <a href="/proposals/op-vault">a set of opcodes are proposed</a>
explicitly to enable vaults.</p>

        
          
<p class="edit-page"><a href="https:&#x2F;&#x2F;github.com&#x2F;stevenroose&#x2F;covenants.info/blob/master/content&#x2F;use-cases&#x2F;vaults.md"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path></svg>Edit this page on GitHub</a></p>

        
        
      </main>
    </div>
  </div>
</div>


  
    
<footer class="footer text-muted">
	<div class="container">
		<div class="row">
			<div class="col-lg-8 order-last order-lg-first">
				<ul class="list-inline">
					
						<li class="list-inline-item">All content is part of the <a href="https://github.com/stevenroose/covenants.info/blob/master/LICENSE">public domain</a>. Powered by <a href="https://www.getzola.org/">Zola</a>, and <a href="https://github.com/aaranxu/adidoks">AdiDoks</a>.</li>
					
				</ul>
			</div>
			<div class="col-lg-8 order-first order-lg-last text-lg-end">
				<ul class="list-inline">
					
				</ul>
			</div>
		</div>
	</div>
</footer>

  

  
<script type="text/javascript" src="https://covenants.info/js/main.js" defer></script>

  <script type="text/javascript" src="https://covenants.info/plugins/elasticlunr.min.js" defer></script>
  <script type="text/javascript" src="https://covenants.info/search_index.en.js" defer></script>
  <script type="text/javascript" src="https://covenants.info/js/search.js" defer></script>

  
</body>
</html>
